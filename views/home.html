<h1 class="text-center">Puissance 4</h1>

<h3 class="text-center" ng-if="!game.isStarted">Configure a new game</h3>

<div class="col-md-6 col-md-offset-3 box" ng-if="!game.isStarted">

  <form novalidate class="simple-form" name="gameForm">
    <div class="form-group">
      <label>Player 1</label>
      <input type="text" ng-model="game.playerOne" class="form-control" required/>
    </div>
    <div class="form-group">
      <label>Player 2</label>
      <input type="text" ng-model="game.playerTwo" class="form-control" required/>
    </div>
    <div class="form-group">
      <label>Number of sets</label>
      <input type="number" ng-model="game.numberOfSets" class="form-control" required/>
    </div>
    <div class="form-actions">
      <input type="submit" ng-click="createGame(game)"
             value="Start game"
             class="btn btn-block btn-primary"
             ng-disabled="gameForm.$invalid" />
    </div>
  </form>
</div>

<div class="row" ng-if="game.isStarted">
  <div class="col-md-3 col-md-offset-2">
    <div class="well" ng-class="{active: currentPlayer==game.playerOne}">
      <h2 class="text-center" >{{game.playerOne.name}}</h2>
      <ul class="list-unstyled">
        <li>Sets won : {{game.playerOne.numberSetsWin}}</li>
        <li>Games won : {{game.playerOne.numberGamesWin}}</li>
      </ul>
    </div>
  </div>

  <div class="col-md-2">
    <h2 class="text-center small" >VS</h2>
    <p class="text-center">{{game.currentSet}} / {{game.numberSets}}</p>
  </div>

  <div class="col-md-3">
    <div class="well" ng-class="{active: currentPlayer==game.playerTwo}">
      <h2 class="text-center" >{{game.playerTwo.name}}</h2>
      <ul class="list-unstyled">
        <li>Sets won : {{game.playerTwo.numberSetsWin}}</li>
        <li>Games won : {{game.playerTwo.numberGamesWin}}</li>
      </ul>
    </div>
  </div>
</div>



<div class="grid-container" ng-if="((game.isStarted) && (!game.isFinnished))">
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
  <div class="grid-row">
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
    <div  class="grid-cell" ng-click="clickCell($event)" ></div>
  </div>
</div>

<div class="row" ng-if="game.isFinnished">
  <div class="col-md-6 col-md-offset-3">
    <div class="alert alert-success">
      <h4 class="text-center">{{getWinner()}}</h4>
    </div>
    <p class="text-center">
      <a ng-click="restartSameGame()" class="btn btn-primary">Replay same game</a>
      Or
      <a ng-click="newGame()" class="btn btn-primary">Start over</a>
    </p>
  </div>
</div>